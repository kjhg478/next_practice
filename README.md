## NextPractice

#### 인증

- 로그인
- 회원가입
- 로그아웃
- Profile
- 유저 정보

#### 글로벌 모듈

- GNB
- 레이어
- Footer

#### 내부 모듈

- 배너
- 공지사항
- 강의 목록

#### 모바일 모듈

- 카테고리 목록

#### SSR VS SSG

- 강의 상세는 SSG
- 전체 사이트는 SSR

#### README Tip

- Contributor

  - @kjhg478 (김종훈)

- Tech Requirement (Tech Stack)

  - Create-next-app
  - Next.js
  - TypeScript
  - ESLint
  - Babel 설정 (IE 11 대응)
    - 기본적으로 next에서 IE 11을 지원하긴 하지만 바벨에서 preset을 별도로 설정해줬을 때, 빌드되는 결과물이 달라짐
    - 완전히 최근에 나온 스펙들의 경우, Built-in 시점에 지원을 안하는 경우를 방지하기 위해 가급적으로 설정 추천

- Docker

  - Dockerfile을 이용해 Docker Container
  - Docker Compose를 사용하고 있습니다.

- Script

```
$ yarn dev
```

```
$ yarn build
$ yarn deploy
```

## 테스트

- 유닛테스트 > 코드상으로 기능을 점검
  - 테스트의 베이스
  - 기능을 점검해보는 테스트 (빌드된 결과물을 봐서 의도된대로 나오는지 코드 자체에 대한 로직을 점검할 때)
- E2E 테스트 (End to End)

  - 실제 동작을 기반으로 하는 테스트
  - 어떤 클릭에 따른 변화가 의도된대로 나오는지 (이벤트)

- Jest
- npm run test

#### DataFlow

- 데이터 플로우 정의

  - 이 데이터를 정제해야 하는 데이터인지 아니면 어디서 흘러들어오는 데이터인지
  - 이 데이터가 어느 시점에 정제되어야 하는지 등 데이터가 전체적으로 흐르는 구조를 파악하기 위함
  - 일단 개발을 시작하고 화면에 보이는걸 먼저 구현?
    - 그럼 그 뒤에는 관리되고 있지 않은 굉장히 많은 데이터가 쌓일 가능성이 높다.

- 데이터

  - 외부에서 주입해주는 데이터인지(API, ThirdParty API), 내부에서 가지고 있는 데이터인가 (Project) : 관리를 어디서 하는지
    - 어떤 경우더라도 내부보단 외부API에서 가지고 있는 것이 좀 더 수월
    - 하지만, 클라이언트에서 즉시 수정이 가능하거나 데이터가 자주 변하지 않는 것들에 대해선 클라이언트에서 가지고있는 것이 좀 더 나음 (내부)
  - API 설계
    - API의 덩어리가 커지면 커질수록 프론트쪽은 편함.
      response 한번에 여러 데이터들을 렌더할 수 있기 때문
    - 그러나 백엔드는 API를 하나로 말아서 넣는 행위는 API 하나가 서버 부하를 다 받아야 하는 케이스
      - 여러 데이터를 조회함 즉, 데이터베이스를 여러개 조회할 수 밖에 없음
      - 하나의 API가 여러가지 일을 수행하게 됨 : 단일 책임 원칙에 어긋남

- 인증 (OAuth, Cookie, Session)
  - 인증을 어떻게 하느냐에 따라서 뒤에 flow가 완전히 바뀌기 때문에 가장 중요

#### 유저 시나리오

- 유저가 이 사이트에 들어왔을 때 어떤 액션을 일으킬지, 액션에 따른 어떤 리스폰스로 진행될지
- 유저가 어떻게 사이트를 이용할 지 정리하기 위함
- 만들고 있는 사이트에 타겟 유저가 누구인지를 정리하는 과정이 유저 시나리오를 작성하는데 가장 중요함

- 공통
  - 메인 페이지에 접속할 수 있어야 한다.
  - 로그인을 할 수 있어야 한다.
  - 회원가입을 할 수 있어야 한다.
  - 메뉴가 노출되어야 한다.
- 비회원

  - 우리 사이트에 락인되지 않은 유저 (이 사이트 궁금한데? 한번 볼까?)

- 회원

  - 락인이 되었지만 구매까지 이어지지 않은 유저

- 구매 회원

  - 락인도 되었고 구매까지 했기 때문에 강의들을 노출시키기 보단 지금 듣고 있는 강의들을 메인에 노출 시키면서 의미와 편리함을 좀 더 증가시켜주는 사용자 경험

- 어드민

  - 내부직원들이 어드민권한에 따라 사이트가 보여지는 모습이 다름

- 메뉴

  - 카테고리 버튼이 보여야 한다.
  - 카테고리 버튼에 마우스를 올리면 메뉴가 확장된다.
  - 최신 혹은 어드민이 지정한 메뉴가 상단에 노출되어야 한다.
    - 어드민이 지정한 메뉴 : XXX API 를 호출하면 된다.
    - 메뉴는 어드민이 n일에 한번씩 변경한다.
  - 메뉴는 메인메뉴와 서브메뉴가 존재한다.
    - 메인 메뉴는 언제나 노출된다.
    - 서브메뉴는 메인메뉴에 묶여있는 그룹에 한해서 노출된다.
  - 강의 전체보기를 클릭하면 강의 목록으로 넘어간다.

- 배너

  - 어드민에서 지정한 배너가 상단에 노출되어야 한다.
    - 배너는 5초마다 자동으로 롤링된다. (상수)

- 강의목록
  - 4단 그리드로 보여주어야 한다.
  - 특정 옵션의 강의 목록이 노출되어야 한다.
    - 특정 옵션: 태그, 카테고리, 신규런칭
  - 타입
    - 목록형
    - 슬라이드형
  - 강의 데이터
    - 썸네일
    - 태그
      - 태그 목록 API
    - 강의 제목
    - 강의 요약
    - URL

#### 코드 리뷰

1. 목적

- why ? (왜 이 코드가 만들어졌는지)
- 어떤 기능?
  - **의도 (의도가 잘 담겨져 있는지)**
  - 코드리뷰의 가장 중요한 가치
- 코드가 안예뻐요?
  - 이 코드는 인터페이스화 할 수 있다
  - 이 코드는 함수로 빼자
  - 이 코드는 Custom Hook으로 빼자 등
  - 의도를 파악한 이후에, 어떤식으로 하는게 더 좋은지에 대한 방안을 리뷰

2. 약속

- 합의 본 내용이 코드에 반영이 안되어 있는 경우
  - Coding Convention
  - 비즈니스 로직
  - API의 역할
  - Client의 역할

3. **리뷰 규칙**

- 2명 리뷰
- 코드에 집중
- MR 크기가 크면 회의 및 오프라인

#### 클린 코드

- 컴포넌트

  - 렌더 (Render)
  - 제어 (State)

- 단일책임원칙

- MFA (패키지를 여러 개 가져가는 모델)

  - 패키지 (3가지가 뭉침)

    - 데이터를 제어하는 영역 (모델)

      - API 영역
      - 가공하는 영역

    - 뷰 (렌더링)

      - 화면에 노출되는 단위
      - 컴포넌트를 어떻게 쪼갤 것인가
      - 디자인과 뷰를 동일시 하지말자 (디자인 !== 뷰)
      - **시나리오와 뷰를 동일시 하자 (시나리오 === 뷰)**

    - 연결 (데이터와 뷰 사이에서 연결해주는 작업)
      - Hooks
      - Hooks가 덩어리가 매우 커지면 패키지별로 분리

#### FastCampus 조은님 강의
